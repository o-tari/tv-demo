import{u as $,a as z,a5 as P,j as e,F as d,a0 as T,a6 as H,a7 as O,a3 as E,a8 as I}from"./index-Dl-wv5iU.js";import{r as U,L as y}from"./router-LUHdcDgl.js";import{a as N}from"./formatNumber-CanhB8v4.js";import{L as b}from"./LazyImage-CDXRRbks.js";import{Y}from"./YouTubePlayerModal-DpJEm-n7.js";const K=({id:p,title:s,thumbnail:w,duration:x,viewCount:l,publishedAt:o,type:t,rating:c,overview:k,variant:L="default",content:i,trailerVideoId:n})=>{const h=$(),r=z(P(p,t)),[R,m]=U.useState(!1),C=a=>{const M=Math.floor(a/60),W=a%60;return M>0?`${M}:${W.toString().padStart(2,"0")}`:`${W}m`},g=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),u=()=>`/tmdb-watch/${t}/${p}`,j=()=>{i&&(t==="movie"?h(H({content:i,type:"movie"})):t==="tv"&&h(O({content:i,type:"tv"})))},v=a=>{a.preventDefault(),a.stopPropagation(),i&&h(r?E(`${t}-${p}`):I({content:i,type:t}))},f=()=>w?`https://image.tmdb.org/t/p/w500${w}`:"/placeholder-movie.svg",D=()=>e.jsx(y,{to:u(),onClick:j,className:"block group max-w-sm",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(b,{src:f(),alt:s,className:"w-full aspect-[3/4] object-cover rounded-lg",placeholder:e.jsx(d,{className:"w-12 h-12 text-gray-400"})}),x&&e.jsx("span",{className:"absolute bottom-2 right-2 bg-black bg-opacity-80 text-white text-xs px-1.5 py-0.5 rounded",children:C(x)}),c&&e.jsxs("span",{className:"absolute top-2 right-2 bg-black bg-opacity-80 text-white text-xs px-1.5 py-0.5 rounded flex items-center",children:[e.jsx("span",{className:"text-yellow-400 mr-1",children:"★"}),c.toFixed(1)]}),e.jsx("button",{onClick:v,className:"absolute top-2 left-2 bg-black bg-opacity-80 hover:bg-opacity-90 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:r?"Remove from Watch Later":"Add to Watch Later",children:r?e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),n&&e.jsx("button",{onClick:a=>{a.preventDefault(),a.stopPropagation(),m(!0)},className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Watch Trailer",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-red-600 dark:group-hover:text-red-400 line-clamp-2",children:s}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-600 rounded-full flex-shrink-0 flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:t==="movie"?e.jsx(d,{className:"w-4 h-4"}):e.jsx(T,{className:"w-4 h-4"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:t==="movie"?"Movie":"TV Show"}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-500",children:[l&&e.jsxs("span",{children:[N(l)," votes"]}),o&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{children:g(o)})]})]})]})]})]})]})}),F=()=>e.jsx(y,{to:u(),onClick:j,className:"block group max-w-md",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx(b,{src:f(),alt:s,className:"w-32 aspect-[3/4] object-cover rounded-lg",placeholder:e.jsx(d,{className:"w-12 h-12 text-gray-400"})}),c&&e.jsxs("span",{className:"absolute top-1 right-1 bg-black bg-opacity-80 text-white text-xs px-1 py-0.5 rounded flex items-center",children:[e.jsx("span",{className:"text-yellow-400 mr-1",children:"★"}),c.toFixed(1)]}),e.jsx("button",{onClick:v,className:"absolute top-1 left-1 bg-black bg-opacity-80 hover:bg-opacity-90 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:r?"Remove from Watch Later":"Add to Watch Later",children:r?e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),n&&e.jsx("button",{onClick:a=>{a.preventDefault(),a.stopPropagation(),m(!0)},className:"absolute top-1 right-1 bg-red-600 hover:bg-red-700 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Watch Trailer",children:e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})]}),e.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-red-600 dark:group-hover:text-red-400 line-clamp-2",children:s}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:t==="movie"?"Movie":"TV Show"}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-500",children:[l&&e.jsxs("span",{children:[N(l)," votes"]}),o&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{children:g(o)})]})]})]})]})}),B=()=>e.jsx(y,{to:u(),onClick:j,className:"block group max-w-lg",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(b,{src:f(),alt:s,className:"w-full aspect-[3/4] object-cover rounded-lg",placeholder:e.jsx(d,{className:"w-12 h-12 text-gray-400"})}),x&&e.jsx("span",{className:"absolute bottom-3 right-3 bg-black bg-opacity-80 text-white text-sm px-2 py-1 rounded",children:C(x)}),c&&e.jsxs("span",{className:"absolute top-3 right-3 bg-black bg-opacity-80 text-white text-sm px-2 py-1 rounded flex items-center",children:[e.jsx("span",{className:"text-yellow-400 mr-1",children:"★"}),c.toFixed(1)]}),e.jsx("button",{onClick:v,className:"absolute top-3 left-3 bg-black bg-opacity-80 hover:bg-opacity-90 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:r?"Remove from Watch Later":"Add to Watch Later",children:r?e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),n&&e.jsx("button",{onClick:a=>{a.preventDefault(),a.stopPropagation(),m(!0)},className:"absolute top-3 right-3 bg-red-600 hover:bg-red-700 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",title:"Watch Trailer",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white group-hover:text-red-600 dark:group-hover:text-red-400 line-clamp-2",children:s}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-300 dark:bg-gray-600 rounded-full flex-shrink-0 flex items-center justify-center",children:e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:t==="movie"?e.jsx(d,{className:"w-4 h-4"}):e.jsx(T,{className:"w-4 h-4"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t==="movie"?"Movie":"TV Show"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-500",children:[l&&e.jsxs("span",{children:[N(l)," votes"]}),o&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{children:g(o)})]})]})]})]}),k&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-3",children:k})]})]})}),S=()=>L==="compact"?F():L==="large"?B():D();return e.jsxs(e.Fragment,{children:[S(),e.jsx(Y,{isOpen:R,onClose:()=>m(!1),videoId:n||null,title:n?`Trailer - ${s}`:void 0})]})};export{K as T};
