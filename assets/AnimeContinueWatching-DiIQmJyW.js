import{u as j,a as f,E as y,j as s,M as v,N}from"./index-B7Om342z.js";import{r as k,L as b}from"./router-LUHdcDgl.js";import{g as w}from"./MediaGrid-B-CXhoQ4.js";import{L as A}from"./LazyImage-qkvR2N8q.js";const M=({limit:t,showMoreButton:o=!1,onMoreClick:n})=>{const c=j(),r=f(y),[l,i]=k.useState(!1),d=t&&!l?r.slice(0,t):r,x=t?r.length>t:!1,g=(e,a)=>{a.preventDefault(),a.stopPropagation(),console.log("Removing anime from continue watching:",e),c(N(e))},h=()=>{n?n():i(!l)},p=(e,a)=>w(e,a,"medium"),m=e=>`/anime/${e.id}`;return r.length===0?null:s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"▶️ Continue Watching Anime"}),x&&o&&s.jsx("button",{onClick:h,className:"text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 font-medium",children:l?"Show Less":"More"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4",children:d.map(e=>s.jsxs("div",{className:"relative group",children:[s.jsx(b,{to:m(e),children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(A,{src:p(e.image,e.title),alt:e.title,className:"w-full aspect-[3/4] object-cover rounded-lg",placeholder:"🎌"}),s.jsxs("div",{className:"absolute bottom-2 right-2 flex flex-col gap-1",children:[e.totalEpisodes&&s.jsxs("span",{className:"bg-black bg-opacity-80 text-white text-xs px-1.5 py-0.5 rounded",children:[e.totalEpisodes," eps"]}),e.score&&s.jsxs("span",{className:"bg-yellow-600 bg-opacity-90 text-white text-xs px-1.5 py-0.5 rounded",children:[s.jsx(v,{className:"w-3 h-3 inline mr-1"})," ",e.score]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-red-600 dark:group-hover:text-red-400 line-clamp-2",children:e.title}),s.jsxs("div",{className:"flex flex-col space-y-1",children:[e.genres&&e.genres.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:e.genres.slice(0,2).map((a,u)=>s.jsx("span",{className:"text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded",children:a},u))}),s.jsxs("div",{className:"flex flex-col space-y-1",children:[e.status&&s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:e.status}),e.year&&s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:e.year}),e.rank&&s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Rank #",e.rank]})]})]})]})]})}),s.jsx("button",{onClick:a=>g(e.id,a),className:"absolute top-2 right-2 p-2 bg-red-600 hover:bg-red-700 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 shadow-lg","aria-label":"Remove from Continue Watching",title:"Remove from Continue Watching",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},e.id))})]})};export{M as A};
