import{u as y,a as x,l as N,m as c,j as e,S,n as v}from"./index-D07yTCoG.js";import{d as w,u as F,r as l}from"./router-LUHdcDgl.js";import{V as T}from"./VideoGrid-hnnqL2Ga.js";import{I as L}from"./InfiniteScroll-DjOmtQht.js";import{S as C}from"./SearchFilters-MdKFtlzk.js";import"./vendor-gH-7aFTg.js";import"./redux-uMWmO1IK.js";import"./utils-COe-vthL.js";import"./MediaGrid-Dzz1wboJ.js";import"./formatNumber-CanhB8v4.js";import"./formatTime-BiH8Yqa9.js";import"./LazyImage-Cgmg7ZD0.js";const D=()=>{const[u]=w(),p=F(),a=y(),{searchFilters:g}=x(t=>t.ui),{searchResults:n,searchLoading:o,searchError:d,searchNextPageToken:i,searchTotalResults:h}=x(t=>t.videos),s=u.get("search")||"",[r,f]=l.useState(g),j=t=>{t.trim()&&p(`/youtube/search?search=${encodeURIComponent(t.trim())}`)};l.useEffect(()=>{s&&(a(N()),a(c({query:s,filters:r})))},[a,s,r]);const b=l.useCallback(()=>{s&&i&&!o&&a(c({query:s,filters:r,pageToken:i}))},[a,s,r,i,o]),k=t=>{const m={...r,...t};f(m),a(v(m))};return d?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-12 h-12 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Search failed"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:d}),e.jsx("button",{onClick:()=>a(c({query:s,filters:r})),className:"btn-primary",children:"Try again"})]}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"YouTube Search"}),e.jsx("div",{className:"max-w-2xl mb-4",children:e.jsx(S,{onSearch:j})}),s&&e.jsxs(e.Fragment,{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:['Search Results for "',s,'"']}),h>0&&e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["About ",h.toLocaleString()," results"]})]})]}),s&&e.jsx("div",{className:"mb-6",children:e.jsx(C,{filters:r,onFilterChange:k})}),s?e.jsx(L,{onLoadMore:b,hasMore:!!i,loading:o,children:e.jsx(T,{videos:n,loading:o&&n.length===0,searchType:r.type,excludeShorts:r.excludeShorts})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Search YouTube Videos"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Enter a search term above to find YouTube videos"})]})]})};export{D as default};
