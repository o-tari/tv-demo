import{j as e}from"./index-D07yTCoG.js";import{r as s}from"./router-LUHdcDgl.js";const p=({src:o,alt:c,className:n="",placeholder:a})=>{const[i,d]=s.useState(!1),[u,l]=s.useState(!1),t=s.useRef(null);s.useEffect(()=>{const r=new IntersectionObserver(([m])=>{m.isIntersecting&&(l(!0),r.disconnect())},{threshold:.1});return t.current&&r.observe(t.current),()=>r.disconnect()},[]);const f=()=>{d(!0)};return e.jsxs("div",{ref:t,className:`relative ${n}`,children:[!i&&e.jsx("div",{className:"absolute inset-0 bg-gray-200 dark:bg-gray-700 animate-pulse rounded",children:a&&e.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:a})}),u&&e.jsx("img",{src:o,alt:c,onLoad:f,className:`transition-opacity duration-300 ${i?"opacity-100":"opacity-0"} ${n}`})]})};export{p as L};
