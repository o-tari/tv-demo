import{u as p,a as y,O as f,P as i,j as e,S as j}from"./index-D07yTCoG.js";import{d as b,u as k,r as N}from"./router-LUHdcDgl.js";import{M as v}from"./MediaGrid-Dzz1wboJ.js";import{I as w}from"./InfiniteScroll-DjOmtQht.js";import"./vendor-gH-7aFTg.js";import"./redux-uMWmO1IK.js";import"./utils-COe-vthL.js";import"./formatNumber-CanhB8v4.js";import"./formatTime-BiH8Yqa9.js";import"./LazyImage-Cgmg7ZD0.js";const q=()=>{const[n]=b(),h=k(),s=p(),{searchResults:a,searchLoading:o,searchError:c,searchNextPage:d,searchHasNextPage:x}=y(r=>r.anime),t=n.get("search")||"",m=r=>{r.trim()&&h(`/anime/search?search=${encodeURIComponent(r.trim())}`)};N.useEffect(()=>{t.trim()&&(s(f()),s(i({query:t.trim(),page:1})))},[s,t]);const u=()=>{t&&d&&!o&&s(i({query:t.trim(),page:d}))},g=r=>({id:r.id,title:r.title,image:r.image,url:r.url,type:"anime",genres:r.genres,description:r.description,status:r.status,totalEpisodes:r.totalEpisodes,subOrDub:r.subOrDub,score:r.score,scoredBy:r.scoredBy,rank:r.rank,popularity:r.popularity,members:r.members,favorites:r.favorites,year:r.year,season:r.season,duration:r.duration,rating:r.rating,studios:r.studios,producers:r.producers,otherName:r.otherName,animeType:r.type,releaseDate:r.releaseDate}),l=a.map(g);return c?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-12 h-12 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Search failed"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:c}),e.jsx("button",{onClick:()=>s(i({query:t.trim(),page:1})),className:"btn-primary",children:"Try again"})]}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Anime Search"}),e.jsx("div",{className:"max-w-2xl mb-4",children:e.jsx(j,{onSearch:m})}),t&&e.jsxs(e.Fragment,{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:['Search Results for "',t,'"']}),a.length>0&&e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[a.length," results found"]})]})]}),t?a.length===0&&!o?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No anime found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Try searching with different keywords"})]}):e.jsx(w,{onLoadMore:u,hasMore:x,loading:o,children:e.jsx(v,{media:l,loading:o&&l.length===0})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Search Anime"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Enter a search term above to find anime"})]})]})};export{q as default};
